<div class="loading" *ngIf="showLoading">
    <mat-spinner></mat-spinner>        
</div>
<h1>
  <mat-icon>content_paste</mat-icon>
  Details
</h1>
<br/>
<p>
  {{match.startTime | date: 'yyyy年MM月dd日 HH:mm'}}<br/>
  {{match.teams[0].teamName + ' ' + match.teams[0].score + ':' + match.teams[1].score + ' ' + match.teams[1].teamName}}
</p>
<br/>
<mat-tab-group>
  <mat-tab label="Forecast">
    <div class="mat-elevation-z8">
      <mat-table #table [dataSource]="forecasts">
        <ng-container matColumnDef="username">
          <mat-header-cell *matHeaderCellDef> 用户名 </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element._user.username}} </mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="text">
          <mat-header-cell *matHeaderCellDef> 评论 </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.text}} </mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="submit-time">
          <mat-header-cell *matHeaderCellDef> 发表时间 </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.submitTime | date: 'yyyy年MM月dd日 HH:mm'}} </mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="modify-time">
          <mat-header-cell *matHeaderCellDef> 修改时间 </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.lastModifiedTime | date: 'yyyy年MM月dd日 HH:mm'}} </mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="operations">
          <mat-header-cell *matHeaderCellDef> 操作 </mat-header-cell>
          <mat-cell *matCellDef="let element">
              <button [disabled]="access === 'deleted'" mat-raised-button color="warn" (click)="deleteComment(element)">删除</button>
          </mat-cell>
        </ng-container>
    
        <mat-header-row *matHeaderRowDef="commentColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: commentColumns;"></mat-row>
      </mat-table>
    
      <mat-paginator #paginator [pageSize]="limit" [pageSizeOptions]="[limit]"
      [length]="forecastLength" (page)="changePage('forecast', $event)">
      </mat-paginator>
    </div>
  </mat-tab>
  <mat-tab label="Postmatch">
    <div class="mat-elevation-z8">
      <mat-table #table [dataSource]="postmatches">
        <ng-container matColumnDef="username">
          <mat-header-cell *matHeaderCellDef> 用户名 </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element._user.username}} </mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="text">
          <mat-header-cell *matHeaderCellDef> 评论 </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.text}} </mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="submit-time">
          <mat-header-cell *matHeaderCellDef> 发表时间 </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.submitTime | date: 'yyyy年MM月dd日 HH:mm'}} </mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="modify-time">
          <mat-header-cell *matHeaderCellDef> 修改时间 </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.lastModifiedTime | date: 'yyyy年MM月dd日 HH:mm'}} </mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="operations">
          <mat-header-cell *matHeaderCellDef> 操作 </mat-header-cell>
          <mat-cell *matCellDef="let element">
              <button [disabled]="access === 'deleted'" mat-raised-button color="warn" (click)="deleteComment(element)">删除</button>
          </mat-cell>
        </ng-container>
    
        <mat-header-row *matHeaderRowDef="commentColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: commentColumns;"></mat-row>
      </mat-table>
    
      <mat-paginator #paginator [pageSize]="limit" [pageSizeOptions]="[limit]"
      [length]="postmatchLength" (page)="changePage('postmatch', $event)">
      </mat-paginator>
    </div>
  </mat-tab>
  <mat-tab label="Field">
    <div class="mat-elevation-z8">
      <mat-table #table [dataSource]="fields">
        <ng-container matColumnDef="username">
          <mat-header-cell *matHeaderCellDef> 用户名 </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element._user.username}} </mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="price">
          <mat-header-cell *matHeaderCellDef> 价格 </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.price}} </mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="seat">
          <mat-header-cell *matHeaderCellDef> 座位 </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.seat}} </mat-cell>
        </ng-container>

        <ng-container matColumnDef="companion">
          <mat-header-cell *matHeaderCellDef> 同伴 </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.companion}} </mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="operations">
          <mat-header-cell *matHeaderCellDef> 操作 </mat-header-cell>
          <mat-cell *matCellDef="let element">
              <button [disabled]="access === 'deleted'" mat-raised-button color="warn" (click)="deleteField(element)">删除</button>
          </mat-cell>
        </ng-container>
    
        <mat-header-row *matHeaderRowDef="fieldColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: fieldColumns;"></mat-row>
      </mat-table>
    
      <!-- <mat-paginator #paginator [pageSize]="limit" [pageSizeOptions]="[limit]"
      [length]="fieldLength" (page)="changePage('field', $event)">
      </mat-paginator> -->
    </div>
  </mat-tab>
</mat-tab-group>

